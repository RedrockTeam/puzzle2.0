<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
        <meta name="apple-mobile-web-app-capable" content="yes" /> <!-- 启用 WebApp 全屏模式 -->
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
        <meta name="apple-mobile-web-app-capable" content="yes" /><!-- home screen app 全屏 -->
        <meta name="apple-mobile-web-app-status-bar-style" content="black" /><!-- 状态栏 -->
        <!-- <link rel="stylesheet" href="http://apps.bdimg.com/libs/animate.css/3.1.0/animate.min.css"> -->
        <link rel="stylesheet" href="__PUBLIC__/home/build/css/index.css">
        <script src="__PUBLIC__/home/src/libs/underscore.js"></script>
        <script src="__PUBLIC__/home/src/libs/zepto.min.js"></script>
        <script src="__PUBLIC__/home/src/libs/backbone.js"></script>
        <script src="__PUBLIC__/home/src/libs/fastclick.min.js"></script>
        <title>重邮拼图系列</title>
    </head>
    <body>

        <!-- 首页 -->
        <script type="text/template" id="T_index">
            <div id="index">
                <img src="__PUBLIC__/home/build/images/personal-btn.png" class="personal-btn" onclick="">
                <img src="__PUBLIC__/home/build/images/choose-btn.png" class="choose-btn" onclick="">
            </div>
        </script>

        <!-- 选择关卡页 -->
        <script type="text/template" id="T_choose">
            <div id="choose">
                <div class="back-btn">
                    <img src="__PUBLIC__/home/build/images/back-btn.png" onclick="">
                </div>
                <div class="start-btn">
                    <img src="__PUBLIC__/home/build/images/start-btn.png" onclick="">
                </div>

                <div class="switch">
                    <img src="__PUBLIC__/home/build/images/left-point.png" class="prev-map" onclick="">
                    <img src="__PUBLIC__/home/build/images/right-point.png" class="next-map" onclick="">
                </div>
                
                <div class="thumb-maps">
                    <% _.each(mapData, function (map, index) { %>
                        <img src="__PUBLIC__/home/build/images/choose/<%= map.index %>.png" class="<%= map.class %>" data-index="<%= index + 1 %>">
                    <% }); %>
                </div>
            </div>
        </script>

        <!-- 个人中心页面 -->
        <script type="text/template" id="T_personal">

            <div id="personal">
                <div class="back-btn">
                    <img src="__PUBLIC__/home/build/images/back-btn.png" onclick="">
                </div>

                <div class="user-face">
                    <img src="__PUBLIC__/home/build/images/face.jpg">
                </div>
                
                <div class="played-list">
                	<% _.each(datas, function (game) { %>
						<div class="played">
	                        <div class="time">
	                            <div class="inner">
	                            	<% for (var i = 0; i < game.time.length; i++) { %>
	                                	<img src="__PUBLIC__/home/build/images/clock/<%= game.time[i] %>.png">
	                            	<% } %>
	                            </div>
	                        </div>
	                        <div class="name">
	                            <img src="__PUBLIC__/home/build/images/personal/<%= game.index %>/name.png">
	                        </div>
	                        <div class="map">
	                            <img src="__PUBLIC__/home/build/images/personal/<%= game.index %>/map.png">
	                        </div>
	                    </div>

                	<% }); %>
                </div>

            </div>
        </script>

        <!-- 游戏页 -->
        <script type="text/template" id="T_game">
            <div id="game">
                <div class="back-btn">
                    <img src="__PUBLIC__/home/build/images/game-back.png" onclick="">
                </div>

                <!-- <button class="goToChooseView">sdsds</button> -->

                <div class="pic-container">
                    <div class="one-pic"><img src="" /></div>
                    <div class="one-pic"><img src="" /></div>
                    <div class="one-pic"><img src="" /></div>
                    <div class="one-pic"><img src="" /></div>
                    <div class="one-pic"><img src="" /></div>
                    <div class="one-pic"><img src="" /></div>
                    <div class="one-pic"><img src="" /></div>
                    <div class="one-pic"><img src="" /></div>
                    <div class="one-pic"><img src="" /></div>
                    <div class="one-pic"><img src="" /></div>
                    <div class="one-pic"><img src="" /></div>
                    <div class="one-pic"><img src="" /></div>
                </div>

                <div class="time-counter-container">
                    <img src="__PUBLIC__/home/build/images/clock/0.png">
                    <img src="__PUBLIC__/home/build/images/clock/0.png">
                    <img src="__PUBLIC__/home/build/images/clock/colon.png">
                    <img src="__PUBLIC__/home/build/images/clock/0.png">
                    <img src="__PUBLIC__/home/build/images/clock/0.png">
                </div>
                
                <div class="refresh-container" onclick="">
                    <img src="__PUBLIC__/home/build/images/refresh.png">
                </div>

                <div class="view-origin-map-btn-contianer" onclick="">
                    <img src="__PUBLIC__/home/build/images/origin-btn.png">
                </div>

                <div class="origin-map" style="display: none">
                    <div class="origin-map-close-btn-container">
                        <img src="__PUBLIC__/home/build/images/close.png">
                    </div>
                </div>

            </div>
        </script>


        <!-- 结果页 -->
        <script type="text/template" id="T_result">
            <div id="result">
            
                <div class="btn-container">
                    <div class="share-btn">
                        <img src="__PUBLIC__/home/build/images/share.png">
                    </div>
                    <div class="replay-btn">
                        <img src="__PUBLIC__/home/build/images/replay.png">
                    </div>
                </div>
        
                <div class="spend-time">
                    <img src="">        
                    <img src="">        
                    <img src="">        
                    <img src="">    
                </div>

                <div class="rank-info">
                    <img src="">        
                    <img src="">        
                    <img src="">        
                    <img src="">        
                </div>

            </div>
        </script>




    </body>
    <script src="__PUBLIC__/home/src/js/router.js"></script>
    <script src="__PUBLIC__/home/src/js/view.js"></script>
    <script src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>
    <script>
        $(function () {
        	FastClick.attach(document.body);
            Backbone.history.start();

            wx.config({
                debug: false, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。
                appId: 'wx81a4a4b77ec98ff4', // 必填，公众号的唯一标识
                timestamp: "{$signature['timestamp']}", // 必填，生成签名的时间戳
                nonceStr: "{$signature['noncestr']}", // 必填，生成签名的随机串
                signature: "{$signature['signature']}",// 必填，签名，见附录1
                jsApiList: [
                    'onMenuShareTimeline',
                    'onMenuShareAppMessage',
                    'onMenuShareQQ',
                    'hideAllNonBaseMenuItem'
                ] // 必填，需要使用的JS接口列表，所有JS接口列表见附录2
            });

            wx.ready(function(){
                wx.onMenuShareTimeline({
                    title: '【@重邮人】快来参与 “重邮地图拼拼看” 游戏，比比谁更熟悉大重邮', // 分享标题
                    link: "http://mp.weixin.qq.com/s?__biz=MjM5NDAzNDM2MQ==&mid=402860568&idx=2&sn=0f7f2730f078c35b3dd1e0179415e72a&scene=0#wechat_redirect",
                    imgUrl: "http://hongyan.cqupt.edu.cn/puzzle/Public/src/images/share_logo.png",
                    success: function () {
                        alert('分享成功!');// 用户确认分享后执行的回调函数
                    },
                    cancel: function () {
                    }
                });
                wx.onMenuShareAppMessage({
                    title: '【@重邮人】快来参与 “重邮地图拼拼看” 游戏，比比谁更熟悉大重邮', // 分享标题
                    desc: '【@重邮人】快来参与 “重邮地图拼拼看” 游戏，比比谁更熟悉大重邮', // 分享描述
                    link: "http://mp.weixin.qq.com/s?__biz=MjM5NDAzNDM2MQ==&mid=402860568&idx=2&sn=0f7f2730f078c35b3dd1e0179415e72a&scene=0#wechat_redirect",
                    imgUrl: 'http://hongyan.cqupt.edu.cn/puzzle/Public/src/images/share_logo.png', // 分享图标
                    type: '', // 分享类型,music、video或link，不填默认为link
                    dataUrl: '', // 如果type是music或video，则要提供数据链接，默认为空
                    success: function () {
                        alert('分享成功!');// 用户确认分享后执行的回调函数
                    },
                    cancel: function () {
                    }
                });
                wx.onMenuShareQQ({
                    title: '【@重邮人】快来参与 “重邮地图拼拼看” 游戏，比比谁更熟悉大重邮', // 分享标题
                    desc: '【@重邮人】快来参与 “重邮地图拼拼看” 游戏，比比谁更熟悉大重邮', // 分享描述
                    link: "http://mp.weixin.qq.com/s?__biz=MjM5NDAzNDM2MQ==&mid=402860568&idx=2&sn=0f7f2730f078c35b3dd1e0179415e72a&scene=0#wechat_redirect",
                    imgUrl: 'http://hongyan.cqupt.edu.cn/puzzle/Public/src/images/share_logo.png', // 分享图标
                    success: function () {
                        alert('分享成功!');// 用户确认分享后执行的回调函数
                    },
                    cancel: function () {
                    }
                });
            });

        });
    </script>
</html>
